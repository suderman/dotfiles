#!/bin/bash

# 2015 Jon Suderman
# https://github.com/suderman/dotfiles

# Helper methods for prettier shell scripting - http://suderman.github.io/shelper
eval "$(cat ~/.local/share/shelper.sh || curl suderman.github.io/shelper/shelper.sh)"

# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
# ▀▄▀▄▀▄   Bootstrap my system   ▄▀▄▀▄▀
# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀

has osx         || curl -fsSL raw.githubusercontent.com/suderman/osx/master/install.sh | sh
has app         || curl -fsSL raw.githubusercontent.com/suderman/app/master/install.sh | sh
osx Xcode.app   || app xcode/id497799835 && xcode-select --install
osx brew        || ruby -e "$(curl -fsSL raw.githubusercontent.com/Homebrew/install/master/install)"
                   brew tap caskroom/cask
osx gcc-4.2     || brew install homebrew/dupes/apple-gcc42
osx rcup        || brew install thoughtbot/formulae/rcm
osc sshconfig   || curl -fsSL suderman.github.io/sshconfig/install | sh
osx borg        || brew install borgbackup
osx mackup      || brew install mackup # TODO: remove this

# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀

brew update
brew upgrade


# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
# ▀▄▀▄▀▄     Automation      ▄▀▄▀▄▀
# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
#
osx Keyboard Maestro.app            || brew cask install keyboard-maestro
osx Hazel.prefPane                  || brew cask install hazel
osx LaunchControl.app               || brew cask install launchcontrol
osx launchup                        || curl -fsSL suderman.github.io/launchup/install | sh
launchdn && launchup


# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
# ▀▄▀▄▀▄      Languages      ▄▀▄▀▄▀
# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
#
osx node                            || brew cask install node
osx lua                             || brew install lua
osx luajit                          || brew install luajit
osx /usr/local/bin/python           || brew install python
osx /usr/local/bin/php              || brew install php55 --with-mysql --with-cgi
osx /usr/local/bin/ruby             || brew install ruby
osx chruby-exec                     || brew install chruby
osx ruby-install                    || brew install ruby-install
osx nginx                           || brew install nginx


# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
# ▀▄▀▄▀▄      Databases      ▄▀▄▀▄▀
# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
#
osx redis-server                    || brew install redis
osx mongod                          || brew install mongodb
osx mysql                           || brew install mysql
osx Sequel Pro.app                  || brew cask install sequel-pro  


# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
# ▀▄▀▄▀▄          Git            ▄▀▄▀▄▀
# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
#
osx /usr/local/bin/git              || brew install git
osx tig                             || brew install tig
osx gitsh                           || brew install gitsh
osx Gitbox.app                      || brew cask install gitbox


# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
# ▀▄▀▄▀▄      Command Line       ▄▀▄▀▄▀
# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
#
osx iTerm.app                       || brew cask install iterm2-nightly
osx /usr/local/bin/zsh              || brew install zsh
osx tmux                            || brew install tmux
osx wemux                           || brew install wemux
osx direnv                          || brew install direnv
osx mosh                            || brew install mobile-shell
osx ssh-copy-id                     || brew install ssh-copy-id
osx autojump                        || brew install autojump
osx ranger                          || brew install ranger
osx wget                            || brew install wget
osx dockutil                        || brew install dockutil
osx fswatch                         || brew install fswatch
osx duti                            || brew install duti
osx screenfetch                     || brew install screenfetch


# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
# ▀▄▀▄▀▄    Virtual Machines     ▄▀▄▀▄▀
# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
#
osx VirtualBox.app                  || brew cask install virtualbox
osx vagrant                         || brew cask install vagrant
osx docker                          || brew install docker
osx packer                          || brew install packer
osx ec2-describe-regions            || brew install ec2-api-tools


# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
# ▀▄▀▄▀▄       Development       ▄▀▄▀▄▀
# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
#
osx ack                             || brew install ack
osx ag                              || brew install ag
osx /usr/local/bin/vim              || brew install vim
osx highlight                       || brew install highlight
osx cscope                          || brew install cscope
osx /usr/local/bin/ctags            || brew install ctags-exuberant
osx MacVim.app                      || brew cask install macvim
osx heroku                          || brew cask install heroku-toolbelt
osx Kaleidoscope.app                || brew cask install kaleidoscope
osx convert                         || brew install imagemagick --build-from-source
osx Transmit.app                    || brew cask install transmit
osx Integrity.app                   || brew cask install integrity
osx MockSMTP.app                    || app mocksmtp/id423535515          


# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
# ▀▄▀▄▀▄      Web Browsers       ▄▀▄▀▄▀
# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
#
osx Choosy.prefPane                 || brew cask install choosy
osx FirefoxDeveloperEdition.app     || brew cask install firefoxdeveloperedition
osx Google Chrome.app               || brew cask install google-chrome
osx Fluid.app                       || brew cask install fluid
# osx Flash Player.app                || brew cask install flash-player
# osx Silverlight.plugin              || brew cask install silverlight
osx w3m                             || brew install w3m
sox elinks                          || brew install elinks


# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
# ▀▄▀▄▀▄        Files            ▄▀▄▀▄▀
# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
#
osx owncloud.app                    || brew cask install owncloud
osx BitTorrent Sync.app             || brew cask install bittorrent-sync
osx Dropbox.app                     || brew cask install dropbox
osx DaisyDisk.app                   || brew cask install daisydisk
osx Disk Sensei.app                 || app Disk-Sensei/Disk-Sensei.dmg    
osx The Unarchiver.app              || brew cask install the-unarchiver
osx atool                           || brew install atool


# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
# ▀▄▀▄▀▄      Productivity       ▄▀▄▀▄▀
# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
#
osx 1Password 6.app                 || brew cask install onepassword
osx Bartender 2.app                 || brew cask install bartender
osx teleport.prefPane               || brew cask install teleport
osx Flux.app                        || brew cask install flux
osx Viscosity.app                   || brew cask install viscosity
osx Moom.app                        || brew cask install moom
osx GeekTool.app                    || brew cask install geektool
osx Little Snitch Configuration.app || brew cask install little-snitch
osx ScreenDimmer.app                || app screendimmer/id562058942


# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
# ▀▄▀▄▀▄         Hacks           ▄▀▄▀▄▀
# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
#
osx Cocktail.app                    || brew cask install cocktail
osx Karabiner.app                   || brew cask install karabiner


# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
# ▀▄▀▄▀▄         Audio           ▄▀▄▀▄▀
# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
#
osx Soundflowerbed.app              || brew cask install soundflower
osx Audio Hijack.app                || brew cask install audio-hijack
osx Fission.app                     || brew cask install fission


# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
# ▀▄▀▄▀▄        Writing          ▄▀▄▀▄▀
# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
#
osx Scrivener.app                   || brew cask install scrivener
osx Aeon Timeline 2.app             || app Aeon-Timeline/AeonTimeline2.dmg  
osx Marked 2.app                    || brew cask install marked
osx Microsoft Word.app              || app Microsoft-Office/MicrosoftOffice2011.dmg


# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
# ▀▄▀▄▀▄       Downloads         ▄▀▄▀▄▀
# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
#
osx Newshosting.app                 || app Newshosting/Newshosting.dmg
osx Transmission.app                || brew cask install transmission
osx YouTube Downloader.app          || brew install youtube-dl


# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
# ▀▄▀▄▀▄      Video              ▄▀▄▀▄▀
# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
#
osx VLC.app                         || brew cask install vlc
osx HandBrake.app                   || brew cask install handbrake
osx AirParrot 2.app                 || brew cask install airparrot
osx AirServer.app                   || brew cask install airserver


# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
# ▀▄▀▄▀▄         Music           ▄▀▄▀▄▀
# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
#
osx cmus                            || brew install cmus
osx Spotify.app                     || brew cask install spotify
osx Spotify Notifications.app       || brew cask install spotify-notifications


# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
# ▀▄▀▄▀▄     Communication       ▄▀▄▀▄▀
# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
#
osx Telegram.app                    || brew cask install telegram
osx Skype.app                       || brew cask install skype
osx GoogleTalkBrowserPlugin.plugin  || brew cask install google-hangouts
osx Slack.app                       || brew cask install slack
osx centerim                        || brew install center-im
osx mutt                            || brew install mutt


# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
# ▀▄▀▄▀▄       QuickLook         ▄▀▄▀▄▀
# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀
#
osx QLColorCode.qlgenerator         || brew cask install qlcolorcode
osx QLMarkdown.qlgenerator          || brew cask install qlmarkdown
osx QLStephen.qlgenerator           || brew cask install qlstephen
osx QuickLookJSON.qlgenerator       || brew cask install quicklook-json

# ▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀

brew cleanup
brew cask cleanup
